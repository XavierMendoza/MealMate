<%- include("partials/header", { username }) %>

<h2>Edit Recipe</h2>

<form action="/recipes/edit/<%= recipe.id %>" method="POST" class="form-box" id="editRecipeForm">

    <label>Recipe Name</label>
    <input type="text" name="name" value="<%= recipe.name %>" required>

    <label>Image URL (optional)</label>
    <input type="url" name="image_url" value="<%= recipe.image_url || '' %>">

    <label>Ingredients</label>
    <textarea name="ingredients" required><%= recipe.ingredients %></textarea>

    <label>Calories</label>
    <input type="number" name="calories" value="<%= recipe.calories %>" required>

    <label>Category</label>
    <select name="category" required>
        <option value="">Select a category</option>
        <option value="Breakfast" <%= recipe.category === "Breakfast" ? "selected" : "" %>>Breakfast</option>
        <option value="Lunch" <%= recipe.category === "Lunch" ? "selected" : "" %>>Lunch</option>
        <option value="Dinner" <%= recipe.category === "Dinner" ? "selected" : "" %>>Dinner</option>
        <option value="Dessert" <%= recipe.category === "Dessert" ? "selected" : "" %>>Dessert</option>
    </select>

    <label>
        <input type="checkbox" name="vegetarian" <%= recipe.vegetarian ? "checked" : "" %>>
        Vegetarian
    </label>

    <button type="submit" class="btn">Update Recipe</button>
</form>

<script src="/js/editRecipe.js"></script>

<%- include("partials/footer") %>
