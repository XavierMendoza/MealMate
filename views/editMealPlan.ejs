<%- include("partials/header", { username }) %>

<h2>Edit Meal Plan</h2>

<form action="/mealplans/edit/<%= plan.id %>" method="POST" class="form-box">

    <label>Select Recipe</label>
    <select name="recipe_id">
        <% recipes.forEach(r => { %>
            <option value="<%= r.id %>" 
                <%= r.id === plan.recipe_id ? "selected" : "" %>>
                <%= r.name %>
            </option>
        <% }) %>
    </select>

    <label>Day of Week</label>
    <select name="day_of_week">
        <% ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].forEach(day => { %>
            <option <%= plan.day_of_week === day ? "selected" : "" %>><%= day %></option>
        <% }) %>
    </select>

    <label>Meal Type</label>
    <select name="meal_type">
        <% ["Breakfast","Lunch","Dinner","Snack"].forEach(type => { %>
            <option <%= plan.meal_type === type ? "selected" : "" %>><%= type %></option>
        <% }) %>
    </select>

    <button type="submit" class="btn">Update Plan</button>
</form>

<%- include("partials/footer") %>
